{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nvar _jsxFileName = \"/Users/xumeihong/Documents/code/git/react/demos/demo2/src/components/Header/index.js\";\nimport React, { Component } from 'react';\nimport './index.less';\nimport Utils from '../../utils/utils';\nimport Axios from '../../axios/index';\nimport { connect } from \"react-redux\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getWeatherAPIData = () => {\n      let city = encodeURIComponent(\"北京\");\n      Axios.jsonp({\n        url: `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=859d16285fd000feec89e9032513f8bb`\n      }).then(res => {\n        let data = res.results[0].weather_data[0];\n        this.setState({\n          weather: data.weather,\n          dayPictureUrl: data.dayPictureUrl,\n          nightPictureUrl: data.nightPictureUrl\n        });\n      }).catch(e => {});\n    };\n\n    this.state = {\n      userName: '',\n      time: ''\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      userName: '小盆友'\n    });\n    setInterval(() => {\n      let time = Utils.formatDate(new Date());\n      this.setState({\n        time: time\n      });\n    }, 1000);\n    this.getWeatherAPIData();\n  }\n\n  render() {\n    let menuType = this.props.menuType;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      className: \"header-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, menuType ? /*#__PURE__*/React.createElement(_Col, {\n      span: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"../../resources/logo.png\",\n      alt: \"\\u56FE\\u7247\\u52A0\\u8F7D\\u5931\\u8D25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, \"IMooc \\u901A\\u7528\\u7BA1\\u7406\\u7CFB\\u7EDF\")) : '', /*#__PURE__*/React.createElement(_Col, {\n      span: menuType ? 18 : 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \"\\u6B22\\u8FCE\\uFF0C\", this.state.userName), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"\\u9000\\u51FA\"))), menuType ? '' : /*#__PURE__*/React.createElement(_Row, {\n      className: \"header-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: 4,\n      className: \"header-bottom-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, this.props.menuName), /*#__PURE__*/React.createElement(_Col, {\n      span: 20,\n      className: \"time-weather\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, this.state.time), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"weather-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.nightPictureUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"weather-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, this.state.weather))));\n  }\n\n}\n\nlet stateToProps = state => {\n  return {\n    menuName: state.menuName\n  };\n};\n\nexport default connect(stateToProps)(Header);","map":{"version":3,"sources":["/Users/xumeihong/Documents/code/git/react/demos/demo2/src/components/Header/index.js"],"names":["React","Component","Utils","Axios","connect","Header","constructor","props","getWeatherAPIData","city","encodeURIComponent","jsonp","url","then","res","data","results","weather_data","setState","weather","dayPictureUrl","nightPictureUrl","catch","e","state","userName","time","componentWillMount","setInterval","formatDate","Date","render","menuType","menuName","stateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col } from 'antd';\nimport './index.less';\nimport Utils from '../../utils/utils';\nimport Axios from '../../axios/index';\nimport { connect} from \"react-redux\";\n\nclass Header extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            userName: '',\n            time: ''\n        };\n    }\n    componentWillMount() {\n        this.setState({\n            userName: '小盆友'\n        });\n        setInterval(() => {\n            let time = Utils.formatDate(new Date());\n            this.setState({\n                time: time\n            });\n        }, 1000);\n        this.getWeatherAPIData();\n    }\n\n    getWeatherAPIData = () => {\n        let city = encodeURIComponent(\"北京\")\n        Axios.jsonp({\n            url: `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=859d16285fd000feec89e9032513f8bb`\n        }).then((res) => {\n            let data = res.results[0].weather_data[0];\n            this.setState({\n                weather: data.weather,\n                dayPictureUrl: data.dayPictureUrl,\n                nightPictureUrl: data.nightPictureUrl\n            });\n        }).catch(e => {\n        })\n    }\n    render() {\n        let menuType = this.props.menuType;\n        return (\n            <div className=\"header\">\n                <Row className=\"header-top\">\n                    {\n                        menuType ? <Col span={6}>\n                            <img src=\"../../resources/logo.png\" alt=\"图片加载失败\"/>\n                            <span>IMooc 通用管理系统</span>\n                        </Col> : ''\n                    }\n                    <Col span={menuType ? 18 : 24}>\n                        <span>欢迎，{this.state.userName}</span>\n                        <a href=\"#\">退出</a>\n                    </Col>\n                </Row>\n                {\n                    menuType ? '' : <Row className=\"header-bottom\">\n                        <Col span={4} className=\"header-bottom-title\">\n                            {this.props.menuName}\n                        </Col>\n                        <Col span={20} className=\"time-weather\">\n                            <span className=\"date\">{this.state.time}</span>\n                            <span className=\"weather-img\">\n                                <img src={this.state.nightPictureUrl} />\n                            </span>\n                            <span className=\"weather-detail\">\n                                {this.state.weather}\n                            </span>\n                        </Col>\n                    </Row>\n                }\n\n            </div>\n        );\n    }\n}\n\nlet stateToProps = (state)=>{\n    return {\n        menuName: state.menuName\n    }\n}\n\n\nexport default connect(stateToProps)(Header);"]},"metadata":{},"sourceType":"module"}