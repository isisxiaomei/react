{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar _jsxFileName = \"/Users/xumeihong/Documents/code/git/react/demos/demo2/src/pages/rich/index.js\";\nimport React from 'react';\n// 文本编辑器\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'; // 用于将文本转换成html标签\n\nimport draftToHtml from 'draftjs-to-html';\nexport default class Rich extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editorState: '',\n      // 编辑器的状态； 为''时编辑器文字区不展示文字也无法输入文字\n      showRichText: false\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n\n    this.onContentStateChange = richContent => {\n      this.setState({\n        richContent\n      });\n    };\n\n    this.handleClearContent = () => {\n      this.setState({\n        editorState: ''\n      });\n    };\n\n    this.handleGetText = () => {\n      this.setState({\n        showRichText: true\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.handleClearContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, \"\\u6E05\\u7A7A\\u6587\\u672C\"), /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.handleGetText,\n      style: {\n        marginLeft: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, \"\\u83B7\\u53D6html\\u6587\\u672C\")), /*#__PURE__*/React.createElement(_Card, {\n      title: \"\\u5BCC\\u6587\\u672C\\u7F16\\u8F91\\u5668\",\n      style: {\n        height: 500,\n        marginTop: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Editor, {\n      editorState: this.state.editorState // 编辑器编辑区域是否展示文本事件\n      ,\n      onEditorStateChange: this.onEditorStateChange // 文本内容监听事件获取编辑器文本内容\n      ,\n      onContentStateChange: this.onContentStateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(_Modal, {\n      title: \"\\u7F16\\u8F91\\u5668html\\u5185\\u5BB9\",\n      visible: this.state.showRichText,\n      onCancel: () => {\n        this.setState({\n          showRichText: false\n        });\n      },\n      footer: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, draftToHtml(this.state.richContent)));\n  }\n\n}","map":{"version":3,"sources":["/Users/xumeihong/Documents/code/git/react/demos/demo2/src/pages/rich/index.js"],"names":["React","Editor","draftToHtml","Rich","Component","state","editorState","showRichText","onEditorStateChange","setState","onContentStateChange","richContent","handleClearContent","handleGetText","render","marginLeft","height","marginTop"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,OAAO,kDAAP,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,eAAe,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAE9CC,KAF8C,GAEtC;AACJC,MAAAA,WAAW,EAAE,EADT;AACgB;AACpBC,MAAAA,YAAY,EAAE;AAFV,KAFsC;;AAAA,SAO9CC,mBAP8C,GAOvBF,WAAD,IAAe;AACjC,WAAKG,QAAL,CAAc;AACVH,QAAAA;AADU,OAAd;AAGH,KAX6C;;AAAA,SAa9CI,oBAb8C,GAatBC,WAAD,IAAe;AAClC,WAAKF,QAAL,CAAc;AACVE,QAAAA;AADU,OAAd;AAGH,KAjB6C;;AAAA,SAmB9CC,kBAnB8C,GAmBzB,MAAI;AACrB,WAAKH,QAAL,CAAc;AACVH,QAAAA,WAAW,EAAE;AADH,OAAd;AAGH,KAvB6C;;AAAA,SAyB9CO,aAzB8C,GAyB9B,MAAI;AAChB,WAAKJ,QAAL,CAAc;AACVF,QAAAA,YAAY,EAAE;AADJ,OAAd;AAGH,KA7B6C;AAAA;;AA+B9CO,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,KAAKF,kBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,eAEI;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,KAAKC,aAArC;AAAoD,MAAA,KAAK,EAAE;AAACE,QAAAA,UAAU,EAAE;AAAb,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAFJ,CADJ,eAKI;AAAM,MAAA,KAAK,EAAC,sCAAZ;AAAqB,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAE,GAAT;AAAcC,QAAAA,SAAS,EAAE;AAAzB,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AACI,MAAA,WAAW,EAAE,KAAKZ,KAAL,CAAWC,WAD5B,CAEI;AAFJ;AAGI,MAAA,mBAAmB,EAAE,KAAKE,mBAH9B,CAII;AAJJ;AAKI,MAAA,oBAAoB,EAAI,KAAKE,oBALjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,eAcI;AACI,MAAA,KAAK,EAAC,oCADV;AAEI,MAAA,OAAO,EAAE,KAAKL,KAAL,CAAWE,YAFxB;AAGI,MAAA,QAAQ,EAAE,MAAI;AACV,aAAKE,QAAL,CAAc;AACVF,UAAAA,YAAY,EAAE;AADJ,SAAd;AAGH,OAPL;AAQI,MAAA,MAAM,EAAE,IARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWKL,WAAW,CAAC,KAAKG,KAAL,CAAWM,WAAZ,CAXhB,CAdJ,CADJ;AA8BH;;AA9D6C","sourcesContent":["import React from 'react'\nimport { Card, Button, Modal } from 'antd'\n\n// 文本编辑器\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\n// 用于将文本转换成html标签\nimport draftToHtml from 'draftjs-to-html';\nexport default class Rich extends React.Component {\n\n    state = {\n        editorState: '',    // 编辑器的状态； 为''时编辑器文字区不展示文字也无法输入文字\n        showRichText: false\n    }\n\n    onEditorStateChange = (editorState)=>{\n        this.setState({\n            editorState\n        });\n    }\n    // 获取编辑器文本内容： richContent\n    onContentStateChange = (richContent)=>{\n        this.setState({\n            richContent,\n          });\n    }\n\n    handleClearContent = ()=>{\n        this.setState({\n            editorState: ''\n        });\n    }\n\n    handleGetText = ()=>{\n        this.setState({\n            showRichText: true\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Card>\n                    <Button type=\"primary\" onClick={this.handleClearContent}>清空文本</Button>\n                    <Button type=\"primary\" onClick={this.handleGetText} style={{marginLeft: 10}}>获取html文本</Button>\n                </Card>\n                <Card title=\"富文本编辑器\" style={{height: 500, marginTop: 20}}>\n                    <Editor\n                        editorState={this.state.editorState}\n                        // 编辑器编辑区域是否展示文本事件\n                        onEditorStateChange={this.onEditorStateChange}\n                        // 文本内容监听事件获取编辑器文本内容\n                        onContentStateChange = {this.onContentStateChange}\n                    />\n                </Card>\n                <Modal\n                    title=\"编辑器html内容\"\n                    visible={this.state.showRichText}\n                    onCancel={()=>{\n                        this.setState({\n                            showRichText: false\n                        })\n                    }}\n                    footer={null}\n                >\n                    {/* draftToHtml可以将文本内容转换为html标签 */}\n                    {draftToHtml(this.state.richContent)}\n                </Modal>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}